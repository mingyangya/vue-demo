(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cc440b88","chunk-13309f28"],{"00b4":function(e,t,n){"use strict";n("ac1f");var i=n("23e7"),r=n("c65b"),o=n("1626"),a=n("825a"),s=n("577e"),u=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),c=/./.test;i({target:"RegExp",proto:!0,forced:!u},{test:function(e){var t=a(this),n=s(e),i=t.exec;if(!o(i))return r(c,t,n);var u=r(i,t,n);return null!==u&&(a(u),!0)}})},"107c":function(e,t,n){"use strict";var i=n("d039"),r=n("da84"),o=r.RegExp;e.exports=i((function(){var e=o("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},"4f6c":function(e,t,n){e.exports={wrap:"AliyunVideo_wrap_1n23r",video:"AliyunVideo_video_2C1Q3"}},"5e1c":function(e,t,n){"use strict";var i=n("4f6c"),r=n.n(i);n.d(t,"default",(function(){return r.a}))},"7db0":function(e,t,n){"use strict";var i=n("23e7"),r=n("b727").find,o=n("44d2"),a="find",s=!0;a in[]&&Array(1)[a]((function(){s=!1})),i({target:"Array",proto:!0,forced:s},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),o(a)},9263:function(e,t,n){"use strict";var i=n("c65b"),r=n("e330"),o=n("577e"),a=n("ad6d"),s=n("9f7f"),u=n("5692"),c=n("7c73"),l=n("69f3").get,f=n("fce3"),d=n("107c"),g=u("native-string-replace",String.prototype.replace),p=RegExp.prototype.exec,v=p,h=r("".charAt),y=r("".indexOf),m=r("".replace),b=r("".slice),x=function(){var e=/a/,t=/b*/g;return i(p,e,"a"),i(p,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),w=s.BROKEN_CARET,E=void 0!==/()??/.exec("")[1],T=x||E||w||f||d;T&&(v=function(e){var t,n,r,s,u,f,d,T=this,P=l(T),I=o(e),C=P.raw;if(C)return C.lastIndex=T.lastIndex,t=i(v,C,I),T.lastIndex=C.lastIndex,t;var k=P.groups,R=w&&T.sticky,L=i(a,T),A=T.source,S=0,O=I;if(R&&(L=m(L,"y",""),-1===y(L,"g")&&(L+="g"),O=b(I,T.lastIndex),T.lastIndex>0&&(!T.multiline||T.multiline&&"\n"!==h(I,T.lastIndex-1))&&(A="(?: "+A+")",O=" "+O,S++),n=new RegExp("^(?:"+A+")",L)),E&&(n=new RegExp("^"+A+"$(?!\\s)",L)),x&&(r=T.lastIndex),s=i(p,R?n:T,O),R?s?(s.input=b(s.input,S),s[0]=b(s[0],S),s.index=T.lastIndex,T.lastIndex+=s[0].length):T.lastIndex=0:x&&s&&(T.lastIndex=T.global?s.index+s[0].length:r),E&&s&&s.length>1&&i(g,s[0],n,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(s[u]=void 0)})),s&&k)for(s.groups=f=c(null),u=0;u<k.length;u++)d=k[u],f[d[0]]=s[d[1]];return s}),e.exports=v},"9ab8":function(e,t,n){"use strict";var i=n("d4ec"),r=n("bee2"),o=function(){function e(t){Object(i["a"])(this,e),this.player=t}return Object(r["a"])(e,[{key:"set",value:function(e,t){t=Math.max(t,0),t=Math.min(t,1),this.player[e]=t,this.player[e+"Percentage"]=100*t+"%"}}]),e}();t["a"]=o},"9dc7":function(e,t,n){"use strict";n("ac1f"),n("00b4"),n("a15b"),n("d81d");var i=/mobile/i.test(window.navigator.userAgent),r={secondToTime:function(e){("number"!==typeof e||isNaN(e))&&(e=0);var t=function(e){return e<10?"0"+e:""+e},n=Math.floor(e/3600),i=Math.floor((e-3600*n)/60),r=Math.floor(e-3600*n-60*i);return(n>0?[n,i,r]:[i,r]).map(t).join(":")},getElementViewLeft:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.offsetLeft,i=e.offsetParent,r=document.body.scrollLeft+document.documentElement.scrollLeft,o=0;if(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement){while(i!==t&&i!==e)console.log({current:i,offsetLeft:i.offsetLeft,element:e}),n+=i.offsetLeft,i=i.offsetParent;o=n-r}else{while(null!==i)n+=i.offsetLeft,i=i.offsetParent;o=n-r}return o},getBoundingClientRectViewLeft:function(e){var t=document.documentElement.scrollTop;if(e.getBoundingClientRect){if("number"!==typeof this.getBoundingClientRectViewLeft.offset){var n=document.createElement("div");n.style.cssText="position:absolute;top:0;left:0;",document.body.appendChild(n),this.getBoundingClientRectViewLeft.offset=-n.getBoundingClientRect().top-t,document.body.removeChild(n),n=null}var i=e.getBoundingClientRect(),r=this.getBoundingClientRectViewLeft.offset;return i.left+r}return this.getElementViewLeft(e)},isMobile:i,isFirefox:/firefox/i.test(window.navigator.userAgent),isChrome:/chrome/i.test(window.navigator.userAgent),storage:{set:function(e,t){localStorage.setItem(e,t)},get:function(e){return localStorage.getItem(e)}},cumulativeOffset:function(e){var t=0,n=0;do{t+=e.offsetTop||0,n+=e.offsetLeft||0,e=e.offsetParent}while(e);return{top:t,left:n}},throttle:function(e){var t=!1;return function(){t||(t=!0,requestAnimationFrame((function(){e&&e(),t=!1})))}},nameMap:{dragStart:i?"touchstart":"mousedown",dragMove:i?"touchmove":"mousemove",dragEnd:i?"touchend":"mouseup"}};t["a"]=r},"9f7f":function(e,t,n){"use strict";var i=n("d039"),r=n("da84"),o=r.RegExp,a=i((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),s=a||i((function(){return!o("a","y").sticky})),u=a||i((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:u,MISSED_STICKY:s,UNSUPPORTED_Y:a}},a15b:function(e,t,n){"use strict";var i=n("23e7"),r=n("e330"),o=n("44ad"),a=n("fc6a"),s=n("a640"),u=r([].join),c=o!=Object,l=c||!s("join",",");i({target:"Array",proto:!0,forced:l},{join:function(e){return u(a(this),void 0===e?",":e)}})},ac1f:function(e,t,n){"use strict";var i=n("23e7"),r=n("9263");i({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},ad6d:function(e,t,n){"use strict";var i=n("825a");e.exports=function(){var e=i(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},bee2:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("a38e");function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Object(i["a"])(r.key),r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},c366:function(e,t,n){"use strict";var i=n("d4ec"),r=n("bee2"),o=(n("14d9"),function(){function e(){Object(i["a"])(this,e),this.events={},this.videoEvents=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","mozaudioavailable","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],this.playerEvents=["destroy","resize","fullscreen","fullscreen_cancel","webfullscreen","webfullscreen_cancel","loading","eventTriggered","autoPlayError"]}return Object(r["a"])(e,[{key:"on",value:function(e,t){this.type(e)&&"function"===typeof t&&(this.events[e]||(this.events[e]=[]),this.events[e].push(t))}},{key:"trigger",value:function(e,t){if(this.events[e]&&this.events[e].length)for(var n=0;n<this.events[e].length;n++)this.events[e][n](t);if(this.events["eventTriggered"]&&this.events["eventTriggered"].length)for(var i=0;i<this.events["eventTriggered"].length;i++)this.events["eventTriggered"][i](t)}},{key:"off",value:function(){this.events={}}},{key:"type",value:function(e){return-1!==this.playerEvents.indexOf(e)?"player":-1!==this.videoEvents.indexOf(e)?"video":(console.error("Unknown event name: ".concat(e)),null)}}]),e}());t["a"]=o},d4ec:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("d9e2");function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},dca5:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{class:e.$style.wrap},[t("div",{ref:"player",class:e.$style.video,attrs:{id:e.id}})])},r=[],o=(n("7db0"),n("d3b7"),n("c366")),a=n("9dc7"),s=n("9ab8"),u={props:["options"],data:function(){return{id:"aliyunPlayerCon"+(new Date).getTime(),events:new o["a"],ready:!1,bar:null,config:null,initSwitch:!0}},mounted:function(){var e=this;this.options&&(this.config=this.options,this.initEncryptVideo((function(t){e.$emit("inited",t)})))},methods:{init:function(e){var t=this;this.config=e,this.aliPlayer&&(this.aliPlayer.dispose(),this.player=null,document.getElementById(this.id).innerHTML=""),this.initEncryptVideo((function(e){t.$emit("inited",e)}))},initEncryptVideo:function(e){var t=this,n=this.id;this.config.getEncryptVideoPlayAuth&&this.config.getEncryptVideoPlayAuth().then((function(i){t.aliPlayer=new window.Aliplayer({id:n,vid:t.config.encryptId,playauth:i,encryptType:1,width:"100%",height:"100%",autoplay:t.config.autoPlay,skinLayout:!1},(function(n){t.exportPlayer(n),t.eventBind(n),t.player.switchQuality(t.config.quality),e(t.player)})),t.aliPlayer.on("error",(function(e){t.$emit("error",e)}))}))},eventBind:function(e){var t=this;e.on("timeupdate",(function(){var n=e.getCurrentTime(),i=e.getDuration()||0;t.player.current=n,t.player.currentTime=a["a"].secondToTime(n),t.player.duration=i,t.player.durationTime=a["a"].secondToTime(i),t.bar.set("played",n/i),t.events.trigger("timeupdate",e)})),e.on("play",(function(){t.events.trigger("play")})),e.on("pause",(function(){t.events.trigger("pause")})),e.on("progress",(function(){var n=t.$refs.player.querySelector("video"),i=n.buffered.length?n.buffered.end(n.buffered.length-1)/n.duration:0;t.bar.set("loaded",i),t.events.trigger("progress",e)})),e.on("playing",(function(){t.events.trigger("playing",e)})),e.on("canplaythrough",(function(){t.events.trigger("canplaythrough",e)})),e.on("ready",(function(){t.ready=!0,t.events.trigger("canplay",e)})),e.on("ended",(function(){t.events.trigger("ended",e)}))},exportPlayer:function(e){var t=this,n=this;this.player={play:function(){e.play(),t.ready&&setTimeout((function(){e.paused()&&t.events.trigger("autoPlayError",e)}),500)},pause:function(){e.pause()},speed:function(t){e.setSpeed(t)},seek:function(t){e.seek(t)},destroy:function(){e.dispose()},on:function(e,n){t.events.on(e,n)},switchQuality:function(t){var i=n.initSwitch?n.config.autoPlay:!e.paused();n.initSwitch&&(n.initSwitch=!1);var r=e._urls.find((function(e){return e.definition.toLowerCase()===t.toLowerCase()}));e.loadByUrl(r.Url,e.getCurrentTime(),i,!0)},video:this.$refs.player.querySelector("video"),playedTime:"00:00",duration:0,loadedPercentage:"0%",playedPercentage:"0%"},this.bar=new s["a"](this.player)}}},c=u,l=n("5e1c"),f=n("2877");function d(e){this["$style"]=l["default"].locals||l["default"]}var g=Object(f["a"])(c,i,r,!1,d,null,null);t["default"]=g.exports},fce3:function(e,t,n){"use strict";var i=n("d039"),r=n("da84"),o=r.RegExp;e.exports=i((function(){var e=o(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))}}]);
//# sourceMappingURL=chunk-cc440b88.ba867d70.js.map