(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e6b4ec66","chunk-249b84a2","chunk-0e208f76","chunk-23ee2ca4","chunk-07feb104"],{"00b4":function(e,t,i){"use strict";i("ac1f");var n=i("23e7"),s=i("c65b"),r=i("1626"),o=i("825a"),a=i("577e"),l=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),u=/./.test;n({target:"RegExp",proto:!0,forced:!l},{test:function(e){var t=o(this),i=a(e),n=t.exec;if(!r(n))return s(u,t,i);var l=s(n,t,i);return null!==l&&(o(l),!0)}})},1017:function(e,t,i){e.exports={wrap:"GkPlayer_wrap_m9ilK",userInActive:"GkPlayer_userInActive_3jBuG",controlMask:"GkPlayer_controlMask_3lCxZ",controlWrap:"GkPlayer_controlWrap_Nrsia",title:"GkPlayer_title_3sJxz",full:"GkPlayer_full_f79dr",videoWrap:"GkPlayer_videoWrap_1MvHM",bigPlayBtn:"GkPlayer_bigPlayBtn_1Qwc0",bigPlayIcon:"GkPlayer_bigPlayIcon_2Hb4F",left:"GkPlayer_left_25yaX",right:"GkPlayer_right_ZWWi-",icon:"GkPlayer_icon_1gllL",playIcon:"GkPlayer_playIcon_3FTMS",pauseIcon:"GkPlayer_pauseIcon_1IG6c",nextIcon:"GkPlayer_nextIcon_1gSyV",prevIcon:"GkPlayer_prevIcon_1nt8B",statusTime:"GkPlayer_statusTime_19yFZ",duration:"GkPlayer_duration_1SD97",barWrap:"GkPlayer_barWrap_17HEQ",tooltip:"GkPlayer_tooltip_1Xcf2",bar:"GkPlayer_bar_3bB9h",barPoint:"GkPlayer_barPoint_3toxd",tooltipTime:"GkPlayer_tooltipTime_2LSyA",tooltipText:"GkPlayer_tooltipText_Ero-H",barTime:"GkPlayer_barTime_34WKP",loaded:"GkPlayer_loaded_2ekba",played:"GkPlayer_played_34LAB",quality:"GkPlayer_quality_3QZRy",rate:"GkPlayer_rate_2rrvx",qualityList:"GkPlayer_qualityList_3dejL",rateList:"GkPlayer_rateList_1fPa2",on:"GkPlayer_on_2SwJE",listItem:"GkPlayer_listItem_SQe2Z",listItemActive:"GkPlayer_listItemActive_1DO8l",current:"GkPlayer_current_3my8a",qualityTip:"GkPlayer_qualityTip_v-5ou",qualityName:"GkPlayer_qualityName_2LB5R",fullscreenOffBtn:"GkPlayer_fullscreenOffBtn_1hc6O",fullscreenOnBtn:"GkPlayer_fullscreenOnBtn_1qBuC",pictureInPictureOffBtn:"GkPlayer_pictureInPictureOffBtn_5FkX3",pictureInPictureOnBtn:"GkPlayer_pictureInPictureOnBtn_X5C0U",videoPointOffBtn:"GkPlayer_videoPointOffBtn_2LXxC",videoPointOnBtn:"GkPlayer_videoPointOnBtn_3lLXU",volumeBtn:"GkPlayer_volumeBtn_ZqhmM",webFullscreenOffBtn:"GkPlayer_webFullscreenOffBtn_1hyoT",webFullscreenOnBtn:"GkPlayer_webFullscreenOnBtn_39PQk",tooltips:"GkPlayer_tooltips_qCFtO",pictureInPictureMask:"GkPlayer_pictureInPictureMask_1SzXO",durationTimeWap:"GkPlayer_durationTimeWap_3BLel",thumbTimeWap:"GkPlayer_thumbTimeWap_1Koyb",subtitle:"GkPlayer_subtitle_1SBN8",subtitleStroke:"GkPlayer_subtitleStroke_Hlgah",extensionItem:"GkPlayer_extensionItem_4nSe4",subtitleStrokeFullScreen:"GkPlayer_subtitleStrokeFullScreen_2ZaoR",volumeWrap:"GkPlayer_volumeWrap_38Oqz",volumeBarWrap:"GkPlayer_volumeBarWrap_fp8BU",volumeBar:"GkPlayer_volumeBar_wFoGD",volumeBarProgress:"GkPlayer_volumeBarProgress_JAKbM",volumeBarProgressDot:"GkPlayer_volumeBarProgressDot_27Dvp"}},"107c":function(e,t,i){"use strict";var n=i("d039"),s=i("da84"),r=s.RegExp;e.exports=n((function(){var e=r("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},2170:function(e,t,i){"use strict";var n=i("1017"),s=i.n(n);i.d(t,"default",(function(){return s.a}))},"25f0":function(e,t,i){"use strict";var n=i("5e77").PROPER,s=i("cb2d"),r=i("825a"),o=i("577e"),a=i("d039"),l=i("90d8"),u="toString",c=RegExp.prototype,d=c[u],h=a((function(){return"/a/b"!=d.call({source:"a",flags:"b"})})),p=n&&d.name!=u;(h||p)&&s(RegExp.prototype,u,(function(){var e=r(this),t=o(e.source),i=o(l(e));return"/"+t+"/"+i}),{unsafe:!0})},2653:function(e,t,i){e.exports={wrap:"NativeVideo_wrap_3IlG5",video:"NativeVideo_video_2UsZm"}},"49c7":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e._self._c;return t("div",{class:e.$style.wrap},[t("svg",{attrs:{height:"100%",version:"1.1",viewBox:"0 0 22 22"}},e._l(e.svgList,(function(e,i){return t("svg",{key:i,attrs:{x:e.x,y:e.y,index:i}},[t("circle",{ref:"circle",refInFor:!0,attrs:{index:i,cx:"4",cy:"4",r:"2"}})])})),0)])},s=[],r=(i("d3b7"),i("159b"),{data:function(){return{svgList:[{x:7,y:1},{x:11,y:3},{x:13,y:7},{x:11,y:11},{x:7,y:13},{x:3,y:11},{x:1,y:7},{x:3,y:3}]}},mounted:function(){var e=this.$refs.circle;e.forEach((function(e,t){e.style.animationDelay=".".concat(t,"s")}))}}),o=r,a=i("8362"),l=i("2877");function u(e){this["$style"]=a["default"].locals||a["default"]}var c=Object(l["a"])(o,n,s,!1,u,null,null);t["default"]=c.exports},"4df4":function(e,t,i){"use strict";var n=i("0366"),s=i("c65b"),r=i("7b0b"),o=i("9bdd"),a=i("e95a"),l=i("68ee"),u=i("07fa"),c=i("8418"),d=i("9a1f"),h=i("35a1"),p=Array;e.exports=function(e){var t=r(e),i=l(this),y=arguments.length,f=y>1?arguments[1]:void 0,v=void 0!==f;v&&(f=n(f,y>2?arguments[2]:void 0));var m,g,b,P,w,k,S=h(t),_=0;if(!S||this===p&&a(S))for(m=u(t),g=i?new this(m):p(m);m>_;_++)k=v?f(t[_],_):t[_],c(g,_,k);else for(P=d(t,S),w=P.next,g=i?new this:[];!(b=s(w,P)).done;_++)k=v?o(P,f,[b.value,_],!0):b.value,c(g,_,k);return g.length=_,g}},"4f6c":function(e,t,i){e.exports={wrap:"AliyunVideo_wrap_1n23r",video:"AliyunVideo_video_2C1Q3"}},"5c74":function(e,t,i){e.exports={wrap:"Loading_wrap_3xE_j",fade:"Loading_fade_3WXs_"}},"5e1c":function(e,t,i){"use strict";var n=i("4f6c"),s=i.n(n);i.d(t,"default",(function(){return s.a}))},8362:function(e,t,i){"use strict";var n=i("5c74"),s=i.n(n);i.d(t,"default",(function(){return s.a}))},9023:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e._self._c;return t("div",{class:e.$style.wrap},[t("video",{ref:"video",class:e.$style.video,attrs:{"webkit-playsinline":"",playsinline:"",poster:e.poster,preload:e.preload}},[e._v(" Sorry, your browser doesn't support embedded videos. ")])])},s=[],r=i("d4ec"),o=i("bee2"),a=(i("d3b7"),i("ac1f"),i("14d9"),i("159b"),i("9dc7")),l=function(e){var t={container:null,autoplay:!1,loop:!1,preload:"metadata",volume:.7,src:null,video:null,mutex:!0};for(var i in t)t.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=t[i]);return e},u=i("9ab8"),c=i("c366"),d=function(){function e(t){Object(r["a"])(this,e),this.options=l(t),this.Hls=this.options.Hls,this.container=this.options.video,this.events=new c["a"],this.paused=!0,this.bar=new u["a"](this),this.played=0,this.playedPercentage="0%",this.duration=0,this.durationTime="00:00",this.current=0,this.currentTime="00:00",this.playedTime="00:00",this.touchTime="00:00",this.video=this.options.video,this.initVideo(this.options.src),this.options.autoplay&&this.play()}return Object(o["a"])(e,[{key:"seek",value:function(e){e=Math.max(e,0),this.video.duration&&(e=Math.min(e,this.video.duration)),this.video.currentTime=e,this.bar.set("played",e/this.video.duration),this.playedTime=a["a"].secondToTime(e),this.current=e,this.currentTime=a["a"].secondToTime(e)}},{key:"play",value:function(){var e=this,t=Promise.resolve(this.video.play());t.catch((function(){e.pause(),e.events.trigger("autoPlayError")})).then((function(){}))}},{key:"pause",value:function(){this.video.pause()}},{key:"volume",value:function(e){return e=parseFloat(e),isNaN(e)||(e=Math.max(e,0),e=Math.min(e,1),this.bar.set("volume",e),this.video.volume=e,this.video.muted&&(this.video.muted=!1)),this.video.volume}},{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"initMSE",value:function(e){var t="normal";if(/m3u8(#|\?|$)/i.exec(e)&&(t="hls"),"hls"===t&&(this.video.canPlayType("application/x-mpegURL")||this.video.canPlayType("application/vnd.apple.mpegURL"))&&(t="normal"),"hls"===t){if(this.Hls.isSupported()){window.GBHlsObj||(window.GBHlsObj=[]);var i=new this.Hls;window.GBHlsObj.push({time:(new Date).getTime(),hls:i}),i.loadSource(e),i.attachMedia(this.video),setTimeout((function(){var e=window.GBHlsObj[window.GBHlsObj.length-1].time;window.GBHlsObj.forEach((function(t){t.time+1e4<e&&t.hls&&t.hls.destroy&&t.hls.destroy()}))}))}}else this.video.src=e}},{key:"initVideo",value:function(e){var t=this;this.initMSE(e),this.on("durationchange",(function(){1!==t.video.duration&&t.video.duration!==1/0&&(t.duration=t.video.duration,t.durationTime=a["a"].secondToTime(t.video.duration))})),this.on("progress",(function(){var e=t.video.buffered.length?t.video.buffered.end(t.video.buffered.length-1)/t.video.duration:0;t.bar.set("loaded",e)})),this.on("error",(function(){t.video.error})),this.on("ended",(function(){t.bar.set("played",1),t.pause()})),this.on("timeupdate",(function(){t.bar.set("played",t.video.currentTime/t.video.duration),t.playedTime=a["a"].secondToTime(t.video.currentTime),t.current=t.video.currentTime,t.currentTime=a["a"].secondToTime(t.video.currentTime)}));for(var i=function(e){t.video.addEventListener(t.events.videoEvents[e],(function(i){t.video&&t.events.trigger(t.events.videoEvents[e],i)}))},n=0;n<this.events.videoEvents.length;n++)i(n)}},{key:"speed",value:function(e){this.video.playbackRate=e}},{key:"destroy",value:function(){this.pause(),this.events.off(),this.video.src=""}}]),e}(),h=d,p={props:["options"],data:function(){return{preload:"auto",poster:""}},mounted:function(){this.player=new h({video:this.$refs.video,src:this.options.src,Hls:this.options.Hls}),this.poster=this.options.poster,this.$emit("inited",this.player)}},y=p,f=i("f639"),v=i("2877");function m(e){this["$style"]=f["default"].locals||f["default"]}var g=Object(v["a"])(y,n,s,!1,m,null,null);t["default"]=g.exports},"90d8":function(e,t,i){"use strict";var n=i("c65b"),s=i("1a2d"),r=i("3a9b"),o=i("ad6d"),a=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in a||s(e,"flags")||!r(a,e)?t:n(o,e)}},9263:function(e,t,i){"use strict";var n=i("c65b"),s=i("e330"),r=i("577e"),o=i("ad6d"),a=i("9f7f"),l=i("5692"),u=i("7c73"),c=i("69f3").get,d=i("fce3"),h=i("107c"),p=l("native-string-replace",String.prototype.replace),y=RegExp.prototype.exec,f=y,v=s("".charAt),m=s("".indexOf),g=s("".replace),b=s("".slice),P=function(){var e=/a/,t=/b*/g;return n(y,e,"a"),n(y,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),w=a.BROKEN_CARET,k=void 0!==/()??/.exec("")[1],S=P||k||w||d||h;S&&(f=function(e){var t,i,s,a,l,d,h,S=this,_=c(S),T=r(e),x=_.raw;if(x)return x.lastIndex=S.lastIndex,t=n(f,x,T),S.lastIndex=x.lastIndex,t;var E=_.groups,I=w&&S.sticky,$=n(o,S),B=S.source,L=0,F=T;if(I&&($=g($,"y",""),-1===m($,"g")&&($+="g"),F=b(T,S.lastIndex),S.lastIndex>0&&(!S.multiline||S.multiline&&"\n"!==v(T,S.lastIndex-1))&&(B="(?: "+B+")",F=" "+F,L++),i=new RegExp("^(?:"+B+")",$)),k&&(i=new RegExp("^"+B+"$(?!\\s)",$)),P&&(s=S.lastIndex),a=n(y,I?i:S,F),I?a?(a.input=b(a.input,L),a[0]=b(a[0],L),a.index=S.lastIndex,S.lastIndex+=a[0].length):S.lastIndex=0:P&&a&&(S.lastIndex=S.global?a.index+a[0].length:s),k&&a&&a.length>1&&n(p,a[0],i,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(a[l]=void 0)})),a&&E)for(a.groups=d=u(null),l=0;l<E.length;l++)h=E[l],d[h[0]]=a[h[1]];return a}),e.exports=f},"9ab8":function(e,t,i){"use strict";var n=i("d4ec"),s=i("bee2"),r=function(){function e(t){Object(n["a"])(this,e),this.player=t}return Object(s["a"])(e,[{key:"set",value:function(e,t){t=Math.max(t,0),t=Math.min(t,1),this.player[e]=t,this.player[e+"Percentage"]=100*t+"%"}}]),e}();t["a"]=r},"9bc9":function(e,t,i){},"9bdd":function(e,t,i){"use strict";var n=i("825a"),s=i("2a62");e.exports=function(e,t,i,r){try{return r?t(n(i)[0],i[1]):t(i)}catch(o){s(e,"throw",o)}}},"9dc7":function(e,t,i){"use strict";i("ac1f"),i("00b4"),i("a15b"),i("d81d");var n=/mobile/i.test(window.navigator.userAgent),s={secondToTime:function(e){("number"!==typeof e||isNaN(e))&&(e=0);var t=function(e){return e<10?"0"+e:""+e},i=Math.floor(e/3600),n=Math.floor((e-3600*i)/60),s=Math.floor(e-3600*i-60*n);return(i>0?[i,n,s]:[n,s]).map(t).join(":")},getElementViewLeft:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=e.offsetLeft,n=e.offsetParent,s=document.body.scrollLeft+document.documentElement.scrollLeft,r=0;if(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement){while(n!==t&&n!==e)console.log({current:n,offsetLeft:n.offsetLeft,element:e}),i+=n.offsetLeft,n=n.offsetParent;r=i-s}else{while(null!==n)i+=n.offsetLeft,n=n.offsetParent;r=i-s}return r},getBoundingClientRectViewLeft:function(e){var t=document.documentElement.scrollTop;if(e.getBoundingClientRect){if("number"!==typeof this.getBoundingClientRectViewLeft.offset){var i=document.createElement("div");i.style.cssText="position:absolute;top:0;left:0;",document.body.appendChild(i),this.getBoundingClientRectViewLeft.offset=-i.getBoundingClientRect().top-t,document.body.removeChild(i),i=null}var n=e.getBoundingClientRect(),s=this.getBoundingClientRectViewLeft.offset;return n.left+s}return this.getElementViewLeft(e)},isMobile:n,isFirefox:/firefox/i.test(window.navigator.userAgent),isChrome:/chrome/i.test(window.navigator.userAgent),storage:{set:function(e,t){localStorage.setItem(e,t)},get:function(e){return localStorage.getItem(e)}},cumulativeOffset:function(e){var t=0,i=0;do{t+=e.offsetTop||0,i+=e.offsetLeft||0,e=e.offsetParent}while(e);return{top:t,left:i}},throttle:function(e){var t=!1;return function(){t||(t=!0,requestAnimationFrame((function(){e&&e(),t=!1})))}},nameMap:{dragStart:n?"touchstart":"mousedown",dragMove:n?"touchmove":"mousemove",dragEnd:n?"touchend":"mouseup"}};t["a"]=s},"9f7f":function(e,t,i){"use strict";var n=i("d039"),s=i("da84"),r=s.RegExp,o=n((function(){var e=r("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),a=o||n((function(){return!r("a","y").sticky})),l=o||n((function(){var e=r("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:l,MISSED_STICKY:a,UNSUPPORTED_Y:o}},a15b:function(e,t,i){"use strict";var n=i("23e7"),s=i("e330"),r=i("44ad"),o=i("fc6a"),a=i("a640"),l=s([].join),u=r!=Object,c=u||!a("join",",");n({target:"Array",proto:!0,forced:c},{join:function(e){return l(o(this),void 0===e?",":e)}})},a630:function(e,t,i){"use strict";var n=i("23e7"),s=i("4df4"),r=i("1c7e"),o=!r((function(e){Array.from(e)}));n({target:"Array",stat:!0,forced:o},{from:s})},ac1f:function(e,t,i){"use strict";var n=i("23e7"),s=i("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==s},{exec:s})},ad6d:function(e,t,i){"use strict";var n=i("825a");e.exports=function(){var e=n(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},b0af:function(e,t,i){"use strict";i.r(t);var n=i("ade3"),s=(i("b0c0"),function(){var e=this,t=e._self._c;return t("div",{ref:"playerWrap",class:[e.$style.wrap,Object(n["a"])({},e.$style.userInActive,e.isUserInActive),Object(n["a"])({},e.$style.full,e.isWebFullScreen)],on:{mousemove:e.mouseMoveHandler,click:e.videoClick}},[t("div",{ref:"videoWrap",class:e.$style.videoWrap},[e.options?[e.options.isEncrypt?t("EncryptVideoPlayer",{ref:"encryptVideoPlayer",class:e.$style.video,attrs:{options:e.options},on:{inited:e.playerInited,error:e.playerError}}):t("VideoPlayer",{ref:"videoPlayer",class:e.$style.video,attrs:{options:e.options},on:{inited:e.playerInited}})]:e._e()],2),e.isPictureInPicture?t("div",{class:["gkplayer-iconfont",e.$style.pictureInPictureMask]}):e._e(),e.title?t("div",{class:[e.$style.title],attrs:{"player-title":""}},[e._v("当前播放: "+e._s(e.title))]):e._e(),e._t("cover"),e.loading?t("Loading"):e._e(),e.paused&&e.isShowBigPlayBtn?t("div",{class:e.$style.bigPlayBtn,attrs:{"player-bigplaybtn":""},on:{click:function(t){return t.stopPropagation(),e.play.apply(null,arguments)}}},[t("div",{class:["gkplayer-iconfont",e.$style.bigPlayIcon],attrs:{"player-bigplaybtn-icon":""}})]):e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:e.subtitle&&!e.isPictureInPicture,expression:"subtitle && !isPictureInPicture"}],class:[e.$style.subtitle,e.$style.subtitleStroke,Object(n["a"])({},e.$style.subtitleStrokeFullScreen,e.isFullScreenStatus)]},[e._v(e._s(e.subtitle))]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.subtitle&&!e.isPictureInPicture,expression:"subtitle && !isPictureInPicture"}],class:[e.$style.subtitle,Object(n["a"])({},e.$style.subtitleStrokeFullScreen,e.isFullScreenStatus)]},[e._v(e._s(e.subtitle))]),t("div",{class:e.$style.controlMask,on:{click:function(e){e.stopPropagation()}}}),t("div",{class:[e.$style.controlWrap],attrs:{"player-control-wrap":""},on:{click:function(e){e.stopPropagation()}}},[t("div",{class:e.$style.left},[e.paused?[t("div",{class:["gkplayer-iconfont",e.$style.icon,e.$style.playIcon],attrs:{"player-control":"","player-play":""},on:{click:function(t){return t.stopPropagation(),e.play.apply(null,arguments)}}})]:[t("div",{class:["gkplayer-iconfont",e.$style.icon,e.$style.pauseIcon],attrs:{"player-control":"","player-pause":""},on:{click:function(t){return t.stopPropagation(),e.pause.apply(null,arguments)}}})],e.isMobile?t("div",{class:[e.$style.thumbTimeWap],attrs:{"player-thumb-time-wap":""}},[e._v(e._s(e.thumbTime))]):e._e(),e.showPrev?t("div",{class:["gkplayer-iconfont",e.$style.icon,,e.$style.prevIcon],attrs:{"player-prev":""},on:{click:function(t){return t.stopPropagation(),e.prev.apply(null,arguments)}}}):e._e(),e.showNext?t("div",{class:["gkplayer-iconfont",e.$style.icon,e.$style.nextIcon],attrs:{"player-next":""},on:{click:function(t){return t.stopPropagation(),e.next.apply(null,arguments)}}}):e._e(),e.isMobile?e._e():t("div",{class:e.$style.statusTime,attrs:{"player-status-time":""}},[e._v(e._s(e.thumbTime)),t("span",{class:e.$style.duration},[e._v(" / "+e._s(e.durationTime))])])],2),t("div",{class:e.$style.right},[e.isMobile?t("div",{class:[e.$style.durationTimeWap],attrs:{"player-duration-time-wap":""}},[e._v(e._s(e.durationTime))]):e._e(),e.isMobile?e._e():t("div",{class:e.$style.quality,attrs:{"player-quality":""}},[e.quality?t("div",{class:e.$style.current,attrs:{"player-quality-cur":""}},[t("span",{on:{click:function(t){return t.stopPropagation(),e.openQualityList.apply(null,arguments)}}},[e._v(e._s(e.quality.name))])]):e._e(),t("ul",{class:[e.$style.qualityList,Object(n["a"])({},e.$style.on,e.isShowQualityList)],attrs:{"player-quality-list":""}},[e._l(e.qualityList,(function(i,n){return[i.type===e.quality.type?t("li",{key:n,class:[e.$style.listItem,e.$style.listItemActive],attrs:{"player-list-item":"","player-list-item-cur":""},on:{click:function(t){return t.stopPropagation(),e.switchQuality(i)}}},[e._v(" "+e._s(i.name)+" ")]):t("li",{key:n,class:[e.$style.listItem],attrs:{"player-list-item":""},on:{click:function(t){return t.stopPropagation(),e.switchQuality(i)}}},[e._v(" "+e._s(i.name)+" ")])]}))],2)]),e.rateEnabled?t("div",{class:e.$style.rate,attrs:{"player-rate":""}},[t("div",{class:e.$style.current,attrs:{"player-rate-cur":""}},[t("span",{on:{click:function(t){return t.stopPropagation(),e.openRateList.apply(null,arguments)}}},[e._v(e._s(e.rate)+"x")])]),t("ul",{class:[e.$style.rateList,Object(n["a"])({},e.$style.on,e.isShowRateList)],attrs:{"player-rate-list":""}},[e._l(e.rateList,(function(i,n){return[i===e.rate?t("li",{key:n,class:[e.$style.listItem,e.$style.listItemActive],attrs:{"player-list-item":"","player-list-item-cur":""},on:{click:function(t){return t.stopPropagation(),e.switchRate(i)}}},[e._v(" "+e._s(i)+"x ")]):t("li",{key:n,class:[e.$style.listItem],attrs:{"player-list-item":""},on:{click:function(t){return t.stopPropagation(),e.switchRate(i)}}},[e._v(" "+e._s(i)+"x ")])]}))],2)]):e._e(),e.extensionList&&e.extensionList.length>0?[e._l(e.extensionList,(function(i,n){return[t("div",{key:n,class:[e.$style.extensionItem,"extension-item-"+i.name],on:{click:function(e){e.stopPropagation()}}},[i.name===e.videoPointKey?[e.hideVideoPointIcon?e._e():[e.showVideoPoint?[t("div",{class:["gkplayer-iconfont",e.$style.icon,e.$style.videoPointOnBtn],attrs:{"video-point-on":""},on:{click:function(t){return t.stopPropagation(),e.toggleVideoPoint(!1)}}},[t("div",{class:e.$style.tooltips},[e._v("关闭知识点")])])]:[t("div",{class:["gkplayer-iconfont",e.$style.icon,e.$style.videoPointOffBtn],attrs:{"video-point-off":""},on:{click:function(t){return t.stopPropagation(),e.toggleVideoPoint(!0)}}},[t("div",{class:e.$style.tooltips},[e._v("开启知识点")])])]]]:void 0],2)]}))]:e._e(),e.pictureInPictureEnabled?[e.isPictureInPicture?[t("div",{class:["gkplayer-iconfont",e.$style.icon,e.$style.pictureInPictureOffBtn],attrs:{"player-webfullscreen":"","player-webfullscreen-on":""},on:{click:function(t){return t.stopPropagation(),e.closePictureInPicture.apply(null,arguments)}}},[t("div",{class:e.$style.tooltips},[e._v("退出画中画")])])]:[t("div",{class:["gkplayer-iconfont",e.$style.icon,e.$style.pictureInPictureOnBtn],attrs:{"player-webfullscreen":"","player-webfullscreen-off":""},on:{click:function(t){return t.stopPropagation(),e.openPictureInPicture.apply(null,arguments)}}},[t("div",{class:e.$style.tooltips},[e._v("开启画中画")])])]]:e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:e.volumeEnabled,expression:"volumeEnabled"}],class:e.$style.volumeWrap},[t("div",{class:["gkplayer-iconfont",e.$style.icon,e.$style.volumeBtn],attrs:{"player-webfullscreen":"","player-webfullscreen-on":""},on:{click:function(t){return t.stopPropagation(),e.toggleVolume.apply(null,arguments)}}},[t("div",{directives:[{name:"show",rawName:"v-show",value:!e.isShowVolumeBar,expression:"!isShowVolumeBar"}],class:e.$style.tooltips},[e._v("音量")])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowVolumeBar,expression:"isShowVolumeBar"}],ref:"volumeBarWrap",class:e.$style.volumeBarWrap,on:{click:function(t){return t.stopPropagation(),e.volumeBarClick.apply(null,arguments)},mousedown:e.volumeDragStart}},[t("div",{class:e.$style.volumeBar},[t("div",{class:e.$style.volumeBarProgress,style:{height:"".concat(100*e.volume,"%")}},[t("div",{class:e.$style.volumeBarProgressDot})])])])]),e.webFullScreenEnabled&&!e.isFullScreenStatus?[e.isWebFullScreen?[t("div",{class:["gkplayer-iconfont",e.$style.icon,e.$style.webFullscreenOnBtn],attrs:{"player-webfullscreen":"","player-webfullscreen-on":""},on:{click:function(t){return t.stopPropagation(),e.toggleWebFullScreen.apply(null,arguments)}}},[t("div",{class:e.$style.tooltips},[e._v("退出网页全屏")])])]:[t("div",{class:["gkplayer-iconfont",e.$style.icon,e.$style.webFullscreenOffBtn],attrs:{"player-webfullscreen":"","player-webfullscreen-off":""},on:{click:function(t){return t.stopPropagation(),e.toggleWebFullScreen.apply(null,arguments)}}},[t("div",{class:e.$style.tooltips},[e._v("网页全屏")])])]]:e._e(),e.isFullScreenStatus?[t("div",{class:["gkplayer-iconfont",e.$style.icon,e.$style.fullscreenOnBtn],attrs:{"player-fullscreen":"","player-fullscreen-on":""},on:{click:function(t){return t.stopPropagation(),e.toggleFullScreen.apply(null,arguments)}}},[t("div",{class:e.$style.tooltips},[e._v("退出全屏")])])]:[t("div",{class:["gkplayer-iconfont",e.$style.icon,e.$style.fullscreenOffBtn],attrs:{"player-fullscreen":"","player-fullscreen-off":""},on:{click:function(t){return t.stopPropagation(),e.toggleFullScreen.apply(null,arguments)}}},[t("div",{class:e.$style.tooltips},[e._v("全屏")])])]],2),t("div",{ref:"progressBarWrap",class:e.$style.barWrap,attrs:{"player-bar-wrap":""}},[t("div",{ref:"touchTime",class:[e.$style.barTime,Object(n["a"])({},e.$style.on,e.isShowTouchTime)],attrs:{"player-bar-time":""}},[e._v(e._s(e.touchTime))]),t("div",{class:e.$style.bar,attrs:{"player-bar":""}},[e._t("points",(function(){return[e.points.length?e._l(e.points,(function(i,n){return t("span",{key:n,class:e.$style.barPoint,style:{left:i.x},attrs:{"bar-point":"","data-text":i.text},on:{mouseenter:function(t){return e.showOutlineTip(i)},mouseleave:e.hideOutlineTip}})})):e._e()]}),{points:e.points}),t("div",{class:e.$style.loaded,style:{width:e.loadedPercentage},attrs:{"player-bar-loaded":""}}),t("div",{ref:"played",class:e.$style.played,style:{width:e.thumbPercentage},attrs:{"player-bar-played":""}},[t("span",{class:e.$style.tooltip,attrs:{"player-bar-tooltip":"","player-is-ended":e.isEnded}})])],2)])]),e.isShowQualityTip?[t("div",{class:e.$style.qualityTip,attrs:{"player-quality-tip":""}},[e._v(" 正在为您切换到 "),t("span",{class:e.$style.qualityName,attrs:{"player-quality-name":""}},[e._v(e._s(e.quality.name))]),e._v(" , 请稍后... ")])]:e._e(),e.extensionList&&e.extensionList.length>0?[e._l(e.extensionList,(function(i,n){return[i.name===e.videoPointKey?[t(i.com?i.com:"",{key:n,ref:i.name,refInFor:!0,tag:"component",attrs:{show:e.showVideoPoint,vm:i.vm,"custom-event":i.customEvent}})]:t(i.com?i.com:"",{key:n,ref:i.name,refInFor:!0,tag:"component",attrs:{vm:i.vm,"custom-event":i.customEvent}})]}))]:e._e()],2)}),r=[],o=i("53ca");i("a4d3"),i("e01a"),i("d3b7"),i("d28b"),i("3ca3"),i("ddb0"),i("d9e2"),i("fb6a"),i("25f0"),i("a630"),i("ac1f"),i("00b4");function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function l(e,t){if(e){if("string"===typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}function u(e,t){var i="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=l(e))||t&&e&&"number"===typeof e.length){i&&(e=i);var n=0,s=function(){};return{s:s,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,a=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return o=e.done,e},e:function(e){a=!0,r=e},f:function(){try{o||null==i["return"]||i["return"]()}finally{if(a)throw r}}}}i("d81d"),i("a9e3"),i("159b"),i("14d9"),i("7db0");var c=i("9023"),d=i("dca5"),h=i("49c7"),p=i("9dc7"),y=!1,f={components:{VideoPlayer:c["default"],EncryptVideoPlayer:d["default"],Loading:h["default"]},props:{showPrev:{type:Boolean,default:!1},showNext:{type:Boolean,default:!1},extensions:Array,list:Array},data:function(){return{canTouchSeek:!1,config:{},isEnded:!1,inited:!1,seeked:!1,isSwitchQuality:!1,isShowQualityList:!1,isShowRateList:!1,isShowTouchTime:!0,isShowQualityTip:!1,isShowVolumeBar:!1,isPictureInPicture:!1,isWebFullScreen:!1,isUserInActive:!1,isDragging:!1,isShowBigPlayBtn:!0,isFullScreenStatus:!1,isVolumeDrag:!1,options:null,quality:null,qualityList:[],rate:"1.0",rateList:["2.0","1.5","1.25","1.0","0.5"],loading:!1,paused:!0,playedSeconds:0,playedTime:"00:00",duration:0,durationTime:"00:00",current:0,loadedPercentage:"0%",thumbTime:"00:00",thumbPercentage:"0%",touchTime:"00:00",title:"",volume:1,player:{},events:{},loadingTimer:null,autoHideTimer:null,volumeTimer:null,pictureInPictureTimer:null,time1:null,isMobile:p["a"].isMobile,subtitleActiveIndex:0,subtitle:"",points:[],showVideoPoint:!0,videoPointKey:"video-point",hideVideoPointIcon:!1}},computed:{pictureInPictureEnabled:function(){return this.config.enablePictureInPicture&&document.pictureInPictureEnabled&&this.inited&&!this.isMobile},volumeEnabled:function(){return this.config.enableVolume&&!this.isMobile},rateEnabled:function(){return this.config.enableRate&&!this.isMobile},webFullScreenEnabled:function(){return this.config.enableWebFullScreen&&!this.isMobile},extensionList:function(){var e=this;return this.extensions&&this.extensions.length?this.extensions.map((function(t){return Object.assign({},t,{com:t.com,name:t.name,vm:e,hidden:!1})})):[]}},filters:{secondToTime:function(e){return p["a"].secondToTime(e)}},watch:{isPictureInPicture:function(e){y=e}},created:function(){},mounted:function(){var e=this.$refs.progressBarWrap;e.addEventListener(p["a"].nameMap.dragStart,this.dragStart),e.addEventListener(p["a"].nameMap.dragMove,this.dragMove),e.addEventListener(p["a"].nameMap.dragEnd,this.dragEnd);var t=this.$refs.videoWrap;t.addEventListener("touchstart",this.videoTouchSeekStart),t.addEventListener("enterpictureinpicture",this.pictureInPictureChange),t.addEventListener("leavepictureinpicture",this.pictureInPictureChange),document.addEventListener("keydown",this.keydown),document.addEventListener("fullscreenchange",this.fullScreenChange),this.checkLoading()},beforeDestroy:function(){var e=this.$refs.progressBarWrap;e.removeEventListener(p["a"].nameMap.dragStart,this.dragStart),e.removeEventListener(p["a"].nameMap.dragMove,this.dragMove),e.removeEventListener(p["a"].nameMap.dragEnd,this.dragEnd);var t=this.$refs.videoWrap;t.removeEventListener("enterpictureinpicture",this.pictureInPictureChange),t.removeEventListener("leavepictureinpicture",this.pictureInPictureChange),t.removeEventListener("touchstart",this.videoTouchStart),document.removeEventListener("keydown",this.keydown),document.removeEventListener("fullscreenchange",this.fullScreenChange),document.removeEventListener("mousemove",this.volumeDragMove),document.removeEventListener("mouseup",this.volumeDragEnd),clearTimeout(this.autoHideTimer),clearTimeout(this.volumeTimer),clearTimeout(this.pictureInPictureTimer),this.player&&this.player.destroy&&this.player.destroy()},methods:{init:function(e){this.config=e,void 0===e.autoPlay&&(this.config.autoPlay=!0),void 0===e.enableRate&&(this.config.enableRate=!0),void 0===e.enableWebFullScreen&&(this.config.enableWebFullScreen=!0),this.config.isEncrypt?this.options={isEncrypt:!0,encryptId:this.config.encryptId,quality:this.config.quality.type,poster:this.config.poster||"",getEncryptVideoPlayAuth:this.config.getEncryptVideoPlayAuth,autoPlay:this.config.autoPlay}:this.options={Hls:this.config.Hls,src:this.config.source,poster:this.config.poster},this.rate=this.config.rate||"1.0",this.quality=this.config.quality,this.qualityList=this.config.qualityList||[],this.title=this.config.title,this.playedSeconds=this.config.playedSeconds||0,this.canTouchSeek=this.config.canTouchSeek;var t=this.config.primaryColor||"#fa8919";this.$refs.playerWrap.style.setProperty("--primary-color",t)},switchVideo:function(e){this.init(e),e.isEncrypt?this.$refs.encryptVideoPlayer.init(this.options):this.switchNonEncryptVideo(this.options)},replay:function(){this.playedSeconds=0,this.seek(this.playedSeconds),this.play()},switchNonEncryptVideo:function(e){var t=this;this.player.destroy(),this.options=null,this.$nextTick((function(){t.options=e}))},playerInited:function(e){this.player=e,this.bindEvent(),this.bindSubtitles(),this.player.speed(Number(this.rate)),this.volumeEnabled&&(this.volume=this.getVolume(),this.setVolume(this.volume)),p["a"].isMobile?this.hide():this.config.autoPlay&&this.play()},playerError:function(e){this.emit("error",e)},bindEvent:function(){var e=this;this.player.on("canplay",(function(){e.initSeek(),e.inited||(e.inited=!0,e.emit("inited"),y&&e.openPictureInPicture(),!p["a"].isMobile&&e.config.autoPlay&&e.play()),e.isShowQualityTip&&(e.isShowQualityTip=!1),e.isSwitchQuality&&(e.isSwitchQuality=!1),e.generatePoints()})),this.player.on("canplaythrough",(function(){e.initSeek()})),this.player.on("play",(function(){e.paused=!1,e.emit("play")})),this.player.on("pause",(function(){e.paused=!0,e.emit("pause")})),this.player.on("ended",(function(){e.isEnded=!0,e.emit("ended",e.player.current)})),this.player.on("autoPlayError",(function(){e.pause()})),this.player.on("timeupdate",(function(){e.initSeek(),e.time1=Date.now(),e.current=e.player.current,e.duration=e.player.duration,e.durationTime=e.player.durationTime,e.loadedPercentage=e.player.loadedPercentage,e.config&&e.config.isEncrypt&&e.checkSubtitles(),e.isDragging||(e.thumbTime=e.player.currentTime,e.thumbPercentage=e.player.playedPercentage),e.paused=e.player.video.paused,!e.paused&&e.duration&&e.emit("timeUpdate",{playedSeconds:e.player.current,duration:e.duration})}))},checkSubtitles:function(){var e=this.player.video,t=this.subtitleActiveIndex;e.textTracks&&e.textTracks[t]&&"showing"===e.textTracks[t].mode&&0===e.textTracks[t].cues.length&&this.bindSubtitles(t)},bindSubtitles:function(){var e=this,t=this.player.video,i=this.config.subtitles;this.subtitle="";var n,s=u(t.querySelectorAll("track"));try{for(s.s();!(n=s.n()).done;){var r=n.value;t.removeChild(r)}}catch(o){s.e(o)}finally{s.f()}Array.isArray(i)&&i.length&&(t.setAttribute("crossorigin",""),i.forEach((function(e){var i=e.label,n=e.srclang,s=e.src,r=document.createElement("track");r.label=i,r.kind="subtitles",r.srclang=n,r.src=s,t.appendChild(r)})),this.selectSubtitle(),this.config.isEncrypt&&this.player.on("canplaythrough",(function(){e.selectSubtitle()})))},selectSubtitle:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=this.player.video;if(i.textTracks&&i.textTracks){if("showing"!==i.textTracks[t].mode){this.subtitleActiveIndex=t;var n=i.textTracks[t];setTimeout((function(){e.bindCues(n)}),800),n.oncuechange=function(){n.oncuechange=null,e.bindCues(n)};for(var s=0;s<i.textTracks.length;s++)i.textTracks[s].mode=s===t?"showing":"disabled"}}else this.subtitleActiveIndex=0},bindCues:function(e){var t=this,i=e.cues,n=function(){var e=i[s];"object"===Object(o["a"])(e)&&(e.onenter=function(i){t.subtitle=e.text},e.onexit=function(e){t.subtitle=""})};for(var s in i)n()},generatePoints:function(){if(this.config.points){for(var e=this.player.duration,t=this.config.points||[],i=t.length,n=[],s=0;s<i;s++){var r={x:t[s].time/e*100+"%",text:t[s].text,time:t[s].time};n.push(r)}this.points=n}},play:function(){this.player.play&&(this.paused=!1,this.isEnded=!1,this.player.play(),this.setAutoHide())},pause:function(){this.player.pause&&(this.paused=!0,this.player.pause(),this.setAutoHide())},togglePlay:function(){this.paused?this.play():this.pause(),this.emit("togglePlay",this.paused)},seek:function(e){this.player.seek&&e<=this.player.duration&&(this.player.seek(e),this.emit("seek",e))},prev:function(){this.emit("prev")},next:function(){this.emit("next")},mouseMoveHandler:function(){this.setAutoHide()},videoClick:function(){p["a"].isMobile||this.isVolumeDrag||this.togglePlay(),this.isShowQualityList&&(this.isShowQualityList=!1),this.isShowRateList&&(this.isShowRateList=!1),this.isShowVolumeBar&&(this.isShowVolumeBar=!1),this.setAutoHide()},setAutoHide:function(){var e=this;this.show(),clearTimeout(this.autoHideTimer),this.autoHideTimer=setTimeout((function(){e.paused||e.hide()}),5e3)},show:function(){this.isUserInActive=!1,this.setIconStatus(!0),this.emit("showBottomBar")},hide:function(){this.isUserInActive=!0,this.isShowVolumeBar=!1,this.setIconStatus(!1),this.emit("hideBottomBar")},hideBigPlayBtn:function(){this.isShowBigPlayBtn=!1},showBigPlayBtn:function(){this.isShowBigPlayBtn=!0},openQualityList:function(){this.isShowQualityList=!this.isShowQualityList,this.isShowRateList&&(this.isShowRateList=!1),this.isShowVolumeBar&&(this.isShowVolumeBar=!1)},openRateList:function(){this.isShowRateList=!this.isShowRateList,this.isShowQualityList&&(this.isShowQualityList=!1),this.isShowVolumeBar&&(this.isShowVolumeBar=!1)},switchQuality:function(e){if(this.isShowQualityList=!1,this.quality.type!==e.type)if(this.quality=e,this.isShowQualityTip=!0,this.isSwitchQuality=!0,this.paused=!1,this.seeked=!1,this.emit("switchQuality",e.type),this.config.isEncrypt)this.playedSeconds=this.player.current,this.player.switchQuality(e.type);else{this.playedSeconds=this.player.played*this.player.video.duration;var t=this.qualityList.find((function(t){return t.type===e.type})).url;this.switchNonEncryptVideo({src:t,Hls:this.config.Hls})}},switchRate:function(e){this.isShowRateList=!1,this.rate!==e&&(this.rate=e,this.player.speed(Number(e)),this.emit("switchRate",this.rate))},pictureInPictureChange:function(){var e=this;clearTimeout(this.pictureInPictureTimer),document.pictureInPictureElement?(this.isPictureInPicture=!0,this.emit("enterpictureinpicture")):this.pictureInPictureTimer=setTimeout((function(){e.isPictureInPicture=!1,e.emit("leavepictureinpicture")}),250)},openPictureInPicture:function(){this.pictureInPictureEnabled&&this.player.video&&this.player.video.requestPictureInPicture()},closePictureInPicture:function(){this.pictureInPictureEnabled&&document.pictureInPictureElement&&document.exitPictureInPicture()},toggleVolume:function(){this.isShowVolumeBar=!this.isShowVolumeBar,this.isShowQualityList&&(this.isShowQualityList=!1),this.isShowRateList&&(this.isShowRateList=!1)},toggleFullScreen:function(){this.isWebFullScreen=!1,this.isFullScreen()?this.cancelFullScreen():this.enableFullScreen()},toggleWebFullScreen:function(){this.isFullScreen()?this.cancelFullScreen():this.videoPointFun("resize"),this.isWebFullScreen=!this.isWebFullScreen,this.emit("webFullScreenStatus",this.isWebFullScreen)},getProgressBarViewLeft:function(){var e=this.$refs.progressBarWrap;return p["a"].getElementViewLeft(e,e.offsetParent)},thumbMove:function(e){this.isDragging=!0;var t=this.$refs.progressBarWrap,i=((e.clientX||e.changedTouches[0].clientX)-this.getProgressBarViewLeft())/t.clientWidth;i=Math.max(i,0),i=Math.min(i,1),this.thumbPercentage=100*i+"%",this.thumbTime=p["a"].secondToTime(i*this.player.video.duration)},thumbUp:function(e){this.isDragging=!1,document.removeEventListener(p["a"].nameMap.dragEnd,this.thumbUp),document.removeEventListener(p["a"].nameMap.dragMove,this.thumbMove);var t=this.$refs.progressBarWrap,i=((e.clientX||e.changedTouches[0].clientX)-this.getProgressBarViewLeft())/t.clientWidth;i=Math.max(i,0),i=Math.min(i,1),this.thumbPercentage=100*i+"%",this.thumbTime=p["a"].secondToTime(i*this.player.video.duration),this.seek(i*this.player.video.duration),this.isShowTouchTime=!1,this.videoPointFun("moveItem",i*this.player.video.duration)},dragStart:function(){document.addEventListener(p["a"].nameMap.dragMove,this.thumbMove),document.addEventListener(p["a"].nameMap.dragEnd,this.thumbUp)},dragMove:function(e){var t=this.$refs.progressBarWrap,i=this.$refs.touchTime;if(this.player.video.duration){var n=p["a"].cumulativeOffset(t).left,s=(e.clientX||e.changedTouches[0].clientX)-n;if(s<0||s>t.offsetWidth)return;var r=this.player.video.duration*(s/t.offsetWidth);i.style.left="".concat(s-(r>=3600?25:20),"px"),this.player.touchTime=p["a"].secondToTime(r),this.isShowTouchTime=!0}},dragEnd:function(){},volumeDragStart:function(){clearTimeout(this.volumeTimer),this.isVolumeDrag=!0,document.addEventListener(p["a"].nameMap.dragMove,this.volumeDragMove),document.addEventListener(p["a"].nameMap.dragEnd,this.volumeDragEnd)},volumeDragMove:function(e){this.isVolumeDrag&&this.volumeBarClick(e)},volumeDragEnd:function(){var e=this;this.volumeTimer=setTimeout((function(){e.isVolumeDrag=!1,e.isShowVolumeBar=!1}),400),document.removeEventListener(p["a"].nameMap.dragMove,this.volumeDragMove),document.removeEventListener(p["a"].nameMap.dragEnd,this.volumeDragEnd)},volumeBarClick:function(e){var t=this.$refs.volumeBarWrap,i=1-(e.clientY-t.getBoundingClientRect().top)/t.clientHeight;this.setVolume(i)},getVolume:function(){var e=localStorage.getItem("GkPlayerVolume");return e>=0&&e<=1?+e:this.player.video.volume},setVolume:function(e){e=Math.max(0,Math.min(1,e)),this.player.video.muted&&(this.player.video.muted=!1),this.player.video.volume=e,this.volume=e,localStorage.setItem("GkPlayerVolume",e)},videoTouchSeekStart:function(e){this.canTouchSeek&&(this.videoTouchStartPercentage=this.thumbPercentage.slice(0,-1)/100,this.videoTouchStartX=e.clientX||e.touches[0].clientX,this.videoTouchStartY=e.clientY||e.touches[0].clientY,document.addEventListener("touchmove",this.videoTouchSeekMove),document.addEventListener("touchend",this.videoTouchSeekEnd),document.addEventListener("touchcancel",this.videoTouchSeekEnd))},videoTouchSeekMove:function(e){var t=(e.clientX||e.changedTouches[0].clientX)-this.videoTouchStartX,i=(e.clientY||e.changedTouches[0].clientY)-this.videoTouchStartY;if(t*t-i*i>10){this.setAutoHide(),this.isDragging=!0;var n=this.videoTouchStartPercentage;this.player.duration<300?n+=t/this.$refs.videoWrap.clientWidth:n+=t/this.$refs.videoWrap.clientWidth*300/this.player.duration,n=Math.max(n,0),n=Math.min(n,1),this.thumbPercentage=100*n+"%",this.thumbTime=p["a"].secondToTime(n*this.player.duration)}},videoTouchSeekEnd:function(e){document.removeEventListener("touchmove",this.videoTouchSeekMove),document.removeEventListener("touchend",this.videoTouchSeekEnd),document.removeEventListener("touchcancel",this.videoTouchSeekEnd);var t=(e.clientX||e.changedTouches[0].clientX)-this.videoTouchStartX,i=(e.clientY||e.changedTouches[0].clientY)-this.videoTouchStartY;if(t*t-i*i>10){this.isDragging=!1;var n=this.videoTouchStartPercentage;this.player.duration<300?n+=t/this.$refs.videoWrap.clientWidth:n+=t/this.$refs.videoWrap.clientWidth*300/this.player.duration,n=Math.max(n,0),n=Math.min(n,1),this.thumbPercentage=100*n+"%",this.thumbTime=p["a"].secondToTime(n*this.player.duration),this.seek(n*this.player.duration),this.isShowTouchTime=!1}},keydown:function(e){var t=document.activeElement.tagName.toUpperCase(),i=document.activeElement.getAttribute("contenteditable");if("INPUT"!==t&&"TEXTAREA"!==t&&""!==i&&"true"!==i){var n=e||window.event;switch(n.keyCode){case 32:n.preventDefault(),this.togglePlay();break;case 37:n.preventDefault(),this.seek(this.player.video.currentTime-10),this.setAutoHide();break;case 39:n.preventDefault(),this.seek(this.player.video.currentTime+10),this.setAutoHide();break}}},isFullScreen:function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},fullScreenChange:function(){this.isFullScreenStatus=!!this.isFullScreen(),this.emit("fullScreenStatus",this.isFullScreenStatus)},enableFullScreen:function(){this.closePictureInPicture();var e=this.$refs.playerWrap;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():this.player.video.webkitEnterFullscreen?this.player.video.webkitEnterFullscreen():this.player.video.webkitEnterFullScreen?this.player.video.webkitEnterFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen()},cancelFullScreen:function(){document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.webkitCancelFullscreen?document.webkitCancelFullscreen():document.msCancelFullScreen?document.msCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},checkLoading:function(){var e=this,t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame,i=function i(){var n=Date.now();!e.paused&&e.time1&&n-e.time1>1e3?e.loading=!0:e.loading=!1,t(i)};t(i)},initSeek:function(){!this.seeked&&this.player&&this.player.duration&&(this.seeked=!0,this.playedSeconds&&this.player.duration-this.playedSeconds>30&&(this.seek(this.playedSeconds),this.videoPointPlaySecond(this.playedSeconds)))},getVideoStatus:function(){return this.player&&this.player.current?{currentTime:Math.floor(this.player.current),duration:Math.floor(this.player.duration)}:null},emit:function(e,t){this.trigger(e,t)},isEventType:function(e){return["eventTriggered","switchRate","switchQuality","timeUpdate","ended","error","prev","next","inited","play","pause","togglePlay","seek","showBottomBar","hideBottomBar","fullScreenStatus","webFullScreenStatus","enterpictureinpicture","leavepictureinpicture"].indexOf(e)>-1},on:function(e,t){this.isEventType(e)&&"function"===typeof t&&(this.events[e]||(this.events[e]=[]),this.events[e].push(t))},trigger:function(e,t){if(this.events[e]&&this.events[e].length)for(var i=0;i<this.events[e].length;i++)this.events[e][i](t);if(this.events.eventTriggered&&this.events.eventTriggered.length)for(var n=0;n<this.events.eventTriggered.length;n++)this.events.eventTriggered[n](t)},showOutlineTip:function(e){this.$emit("toggleOutLineTip",e)},hideOutlineTip:function(){this.$emit("toggleOutLineTip",!1)},toggleVideoPoint:function(e){this.showVideoPoint=e},setVideoPointIcon:function(e){this.hideVideoPointIcon=e},videoPointFun:function(e){for(var t=this,i=arguments.length,n=new Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];this.$nextTick((function(){var i,s=t.$refs[t.videoPointKey];(s=s&&s[0],s&&s[e])&&(i=s)[e].apply(i,n)}))},videoPointPlaySecond:function(e){this.videoPointFun("moveItem",e)},setIconStatus:function(e){this.videoPointFun("setIconStatus",e)},videoPointClick:function(e){this.seek(e),this.$emit("".concat(this.videoPointKey,"-click"),e)}}},v=f,m=(i("ea59"),i("2170")),g=i("2877");function b(e){this["$style"]=m["default"].locals||m["default"]}var P=Object(g["a"])(v,s,r,!1,b,null,null);t["default"]=P.exports},c366:function(e,t,i){"use strict";var n=i("d4ec"),s=i("bee2"),r=(i("14d9"),function(){function e(){Object(n["a"])(this,e),this.events={},this.videoEvents=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","mozaudioavailable","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],this.playerEvents=["destroy","resize","fullscreen","fullscreen_cancel","webfullscreen","webfullscreen_cancel","loading","eventTriggered","autoPlayError"]}return Object(s["a"])(e,[{key:"on",value:function(e,t){this.type(e)&&"function"===typeof t&&(this.events[e]||(this.events[e]=[]),this.events[e].push(t))}},{key:"trigger",value:function(e,t){if(this.events[e]&&this.events[e].length)for(var i=0;i<this.events[e].length;i++)this.events[e][i](t);if(this.events["eventTriggered"]&&this.events["eventTriggered"].length)for(var n=0;n<this.events["eventTriggered"].length;n++)this.events["eventTriggered"][n](t)}},{key:"off",value:function(){this.events={}}},{key:"type",value:function(e){return-1!==this.playerEvents.indexOf(e)?"player":-1!==this.videoEvents.indexOf(e)?"video":(console.error("Unknown event name: ".concat(e)),null)}}]),e}());t["a"]=r},dca5:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e._self._c;return t("div",{class:e.$style.wrap},[t("div",{ref:"player",class:e.$style.video,attrs:{id:e.id}})])},s=[],r=(i("7db0"),i("d3b7"),i("c366")),o=i("9dc7"),a=i("9ab8"),l={props:["options"],data:function(){return{id:"aliyunPlayerCon"+(new Date).getTime(),events:new r["a"],ready:!1,bar:null,config:null,initSwitch:!0}},mounted:function(){var e=this;this.options&&(this.config=this.options,this.initEncryptVideo((function(t){e.$emit("inited",t)})))},methods:{init:function(e){var t=this;this.config=e,this.aliPlayer&&(this.aliPlayer.dispose(),this.player=null,document.getElementById(this.id).innerHTML=""),this.initEncryptVideo((function(e){t.$emit("inited",e)}))},initEncryptVideo:function(e){var t=this,i=this.id;this.config.getEncryptVideoPlayAuth&&this.config.getEncryptVideoPlayAuth().then((function(n){t.aliPlayer=new window.Aliplayer({id:i,vid:t.config.encryptId,playauth:n,encryptType:1,width:"100%",height:"100%",autoplay:t.config.autoPlay,skinLayout:!1},(function(i){t.exportPlayer(i),t.eventBind(i),t.player.switchQuality(t.config.quality),e(t.player)})),t.aliPlayer.on("error",(function(e){t.$emit("error",e)}))}))},eventBind:function(e){var t=this;e.on("timeupdate",(function(){var i=e.getCurrentTime(),n=e.getDuration()||0;t.player.current=i,t.player.currentTime=o["a"].secondToTime(i),t.player.duration=n,t.player.durationTime=o["a"].secondToTime(n),t.bar.set("played",i/n),t.events.trigger("timeupdate",e)})),e.on("play",(function(){t.events.trigger("play")})),e.on("pause",(function(){t.events.trigger("pause")})),e.on("progress",(function(){var i=t.$refs.player.querySelector("video"),n=i.buffered.length?i.buffered.end(i.buffered.length-1)/i.duration:0;t.bar.set("loaded",n),t.events.trigger("progress",e)})),e.on("playing",(function(){t.events.trigger("playing",e)})),e.on("canplaythrough",(function(){t.events.trigger("canplaythrough",e)})),e.on("ready",(function(){t.ready=!0,t.events.trigger("canplay",e)})),e.on("ended",(function(){t.events.trigger("ended",e)}))},exportPlayer:function(e){var t=this,i=this;this.player={play:function(){e.play(),t.ready&&setTimeout((function(){e.paused()&&t.events.trigger("autoPlayError",e)}),500)},pause:function(){e.pause()},speed:function(t){e.setSpeed(t)},seek:function(t){e.seek(t)},destroy:function(){e.dispose()},on:function(e,i){t.events.on(e,i)},switchQuality:function(t){var n=i.initSwitch?i.config.autoPlay:!e.paused();i.initSwitch&&(i.initSwitch=!1);var s=e._urls.find((function(e){return e.definition.toLowerCase()===t.toLowerCase()}));e.loadByUrl(s.Url,e.getCurrentTime(),n,!0)},video:this.$refs.player.querySelector("video"),playedTime:"00:00",duration:0,loadedPercentage:"0%",playedPercentage:"0%"},this.bar=new a["a"](this.player)}}},u=l,c=i("5e1c"),d=i("2877");function h(e){this["$style"]=c["default"].locals||c["default"]}var p=Object(d["a"])(u,n,s,!1,h,null,null);t["default"]=p.exports},ea59:function(e,t,i){"use strict";i("9bc9")},f639:function(e,t,i){"use strict";var n=i("2653"),s=i.n(n);i.d(t,"default",(function(){return s.a}))},fb6a:function(e,t,i){"use strict";var n=i("23e7"),s=i("e8b5"),r=i("68ee"),o=i("861d"),a=i("23cb"),l=i("07fa"),u=i("fc6a"),c=i("8418"),d=i("b622"),h=i("1dde"),p=i("f36a"),y=h("slice"),f=d("species"),v=Array,m=Math.max;n({target:"Array",proto:!0,forced:!y},{slice:function(e,t){var i,n,d,h=u(this),y=l(h),g=a(e,y),b=a(void 0===t?y:t,y);if(s(h)&&(i=h.constructor,r(i)&&(i===v||s(i.prototype))?i=void 0:o(i)&&(i=i[f],null===i&&(i=void 0)),i===v||void 0===i))return p(h,g,b);for(n=new(void 0===i?v:i)(m(b-g,0)),d=0;g<b;g++,d++)g in h&&c(n,d,h[g]);return n.length=d,n}})},fce3:function(e,t,i){"use strict";var n=i("d039"),s=i("da84"),r=s.RegExp;e.exports=n((function(){var e=r(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))}}]);
//# sourceMappingURL=chunk-e6b4ec66.dfd073f0.js.map